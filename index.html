<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Kinescope Player</title>
    <link
      rel="shortcut icon"
      href="https://static.tildacdn.com/tild6535-3931-4534-a462-643438616464/favicon.ico"
      type="image/x-icon"
    />
    <script>
      // Конфигурация плеера
      const playerConfig = {
        // Версия плеера
        version: 'v2.157.7',
        
        // ID контейнера
        containerId: 'player',
        
        // URL видео
        videoUrl: 'https://kinescope.dev/hAEy7QVu9LF7bc7yKPd7ih',
        
        // Размеры плеера
        size: {
          width: '50%',
          height: 400
        },
        
        // Настройки поведения
        behavior: {
          autoPause: true,
          preload: true,
          playsInline: true,
          localStorage: true,
          autoPlay: 'hover',
        },
        
        // Дополнительные настройки
        settings: {
          // driverSettings: {
          //   hls: { playback: 'native' },
          // },
          // metrics: {
          //   interval: 2000,
          // },
        }
      };

      // Функция создания плеера
      async function createPlayer() {
        try {
          const Player = Kinescope.IframePlayer;
          
          const player = await Player.create(playerConfig.containerId, {
            url: playerConfig.videoUrl,
            size: playerConfig.size,
            behavior: playerConfig.behavior,
            settings: playerConfig.settings
          });

          console.log('Player initialized successfully');
          
          // Здесь можно добавить обработчики событий
          // player.on(Player.PlayerEvent.FullscreenChange, handleFullscreenChange);
          
          return player;
        } catch (error) {
          console.error('Failed to initialize player:', error);
          throw error;
        }
      }

      // Обработчик готовности API
      function onKinescopeIframeAPIReady(Player) {
        console.log('Kinescope iframe API ready');
        createPlayer().catch(console.error);
      }
    </script>
    <script
      async
      src={`https://player.kinescope.dev/${playerConfig.version}/iframe.player.js`}
    ></script>
  </head>
  <body>
    <div id="player"></div>
  </body>
</html>
